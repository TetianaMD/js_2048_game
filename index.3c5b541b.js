document.addEventListener("DOMContentLoaded",function(){var e=function(){for(var e=0;e<4;e++){l[e]=[];for(var o=0;o<4;o++)l[e][o]=0}r(),r(),t()},t=function(){document.querySelectorAll(".field-cell").forEach(function(e,t){var r=Math.floor(t/4),o=t%4;e.textContent=0===l[r][o]?"":l[r][o],e.className="field-cell",0!==l[r][o]&&e.classList.add("field-cell--"+l[r][o])}),n.textContent=f},r=function(){for(var e=[],t=0;t<4;t++)for(var r=0;r<4;r++)0===l[t][r]&&e.push({row:t,col:r});if(e.length>0){var o=e[Math.floor(Math.random()*e.length)];l[o.row][o.col]=.9>Math.random()?2:4}},o=function(e,o){for(var n=!1,c=[],d=0;d<4;d++)c[d]=[!1,!1,!1,!1];for(var i=0;i<4;i++)for(var u=0;u<4;u++){var v=1===e?3-i:i,m=1===o?3-u:u;if(0!==l[v][m]){for(var h=v,L=m;h+e>=0&&h+e<4&&L+o>=0&&L+o<4&&0===l[h+e][L+o];)h+=e,L+=o;h+e>=0&&h+e<4&&L+o>=0&&L+o<4&&l[h+e][L+o]===l[v][m]&&!c[h+e][L+o]?(h+=e,L+=o,l[h][L]*=2,l[v][m]=0,f+=l[h][L],c[h][L]=!0,n=!0,2048===l[h][L]&&s.classList.remove("hidden")):(h!==v||L!==m)&&(l[h][L]=l[v][m],l[v][m]=0,n=!0)}}n&&(r(),t(),a())},a=function(){for(var e=!1,t=0;t<4;t++)for(var r=0;r<4;r++)0===l[t][r]&&(e=!0),(t>0&&l[t][r]===l[t-1][r]||t<3&&l[t][r]===l[t+1][r]||r>0&&l[t][r]===l[t][r-1]||r<3&&l[t][r]===l[t][r+1])&&(e=!0);e||c.classList.remove("hidden")},n=document.querySelector(".game-score"),s=document.querySelector(".message-win"),c=document.querySelector(".message-lose"),d=document.querySelector(".message-start"),i=document.querySelector(".button.start"),l=[],f=0;document.addEventListener("keydown",function(e){switch(e.key){case"ArrowUp":o(-1,0);break;case"ArrowDown":o(1,0);break;case"ArrowLeft":o(0,-1);break;case"ArrowRight":o(0,1)}}),i.addEventListener("click",function(){s.classList.add("hidden"),c.classList.add("hidden"),d.classList.add("hidden"),f=0,e(),i.textContent="Restart",i.classList.remove("Start"),i.classList.add("restart")})});
//# sourceMappingURL=index.3c5b541b.js.map
